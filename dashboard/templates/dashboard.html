<!DOCTYPE html>
<html>
<head>
    <title>E-Commerce Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        h2 {
            color: #666;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 5px;
        }
        .graph-container {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            padding: 8px;
            margin: 5px 0;
            background: white;
            border-left: 4px solid #2196F3;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>E-Commerce Analytics Dashboard</h1>

    <div class="graph-container">
        <div id="revenueChart"></div>
    </div>

    <div class="graph-container">
        <h2>Daily Revenue (Last 10 Days)</h2>
        <ul>
        {% for date, revenue in daily_revenue.items() %}
            <li>{{ date }}: ₹{{ "%.2f"|format(revenue) }}</li>
        {% endfor %}
        </ul>
    </div>

    <div class="graph-container">
        <div id="productsChart"></div>
    </div>

    <div class="graph-container">
        <h2>Top 10 Products</h2>
        <ul>
        {% for product, qty in top_products.items() %}
            <li>Product {{ product }} — {{ qty }} units sold</li>
        {% endfor %}
        </ul>
    </div>

    <div class="graph-container">
        <div id="locationChart"></div>
    </div>

    <div class="graph-container">
        <h2>Revenue By Location</h2>
        <ul>
        {% for location, revenue in revenue_by_location.items() %}
            <li>{{ location }}: ₹{{ "%.2f"|format(revenue) }}</li>
        {% endfor %}
        </ul>
    </div>

    <script>
        var revenueGraph = {{ revenue_graph|safe }};
        Plotly.newPlot('revenueChart', revenueGraph.data, revenueGraph.layout);

        var productsGraph = {{ products_graph|safe }};
        Plotly.newPlot('productsChart', productsGraph.data, productsGraph.layout);

        var locationGraph = {{ location_graph|safe }};
        Plotly.newPlot('locationChart', locationGraph.data, locationGraph.layout);
    </script>

</body>
</html>
